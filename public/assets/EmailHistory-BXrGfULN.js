import{r as c,j as s}from"./vendor-react-BuVtq312.js";import{t as R,k as Y,C as N,z as v,E as f,A as b,a as os,B as G,D as ns,e as ds,f as xs,h as ms,i as ps,o as gs,j as r}from"./index-hzFfJlKH.js";import{T as ys,a as us,b as J,c as C,d as Es,e as n}from"./table-y7wtTQEZ.js";import{S as k,a as F,b as P,c as L,d as a}from"./select-BmfPitD4.js";import{P as hs}from"./PageLayout-D7c6YbGr.js";import{D as d}from"./typography-CdqW54LS.js";import{E as Hs,a as js}from"./EmptyState-B5hZ-p_K.js";import{S as Ns,a as B,P as vs}from"./scrollable-table-wrapper-nwSnGFpJ.js";import{u as fs,F as bs,a as O}from"./useTableSort-BKzs4CS_.js";import{D as Ss}from"./data-table-empty-B3ZZCHTu.js";import{R as X,b as Cs,aE as Ds,d as Ts,au as M,an as ws,ar as As,ac as Rs,O as ks}from"./vendor-icons-CPPAmKDz.js";import"./vendor-data-DopHG4T0.js";import"./vendor-radix-DQBG9U-J.js";import"./Navigation-DKoTJDrW.js";import"./UserAvatar-DzPpP9tb.js";import"./vendor-date-B2OJh1lx.js";import"./skeleton-QN8DVCY2.js";function Z({status:o,success:x}){if(!x)return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:104",variant:"destructive",className:"gap-1",children:[s.jsx(M,{"data-loc":"client/src/pages/EmailHistory.tsx:105",className:"h-3 w-3"}),"Failed"]});switch(o){case"delivered":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:114",variant:"default",className:"gap-1 bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(ks,{"data-loc":"client/src/pages/EmailHistory.tsx:118",className:"h-3 w-3"}),"Delivered"]});case"opened":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:124",variant:"default",className:"gap-1 bg-blue-500/20 text-blue-400 border-blue-500/30",children:[s.jsx(Rs,{"data-loc":"client/src/pages/EmailHistory.tsx:128",className:"h-3 w-3"}),"Opened"]});case"clicked":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:134",variant:"default",className:"gap-1 bg-purple-500/20 text-purple-400 border-purple-500/30",children:[s.jsx(As,{"data-loc":"client/src/pages/EmailHistory.tsx:138",className:"h-3 w-3"}),"Clicked"]});case"bounced":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:144",variant:"destructive",className:"gap-1",children:[s.jsx(M,{"data-loc":"client/src/pages/EmailHistory.tsx:145",className:"h-3 w-3"}),"Bounced"]});case"complained":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:151",variant:"destructive",className:"gap-1",children:[s.jsx(M,{"data-loc":"client/src/pages/EmailHistory.tsx:152",className:"h-3 w-3"}),"Spam"]});case"sent":default:return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:159",variant:"secondary",className:"gap-1",children:[s.jsx(ws,{"data-loc":"client/src/pages/EmailHistory.tsx:160",className:"h-3 w-3"}),"Sent"]})}}function _({type:o}){switch(o){case"invoice":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:172",variant:"outline",className:"gap-1",children:[s.jsx(Ts,{"data-loc":"client/src/pages/EmailHistory.tsx:173",className:"h-3 w-3"}),"Invoice"]});case"reminder":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:179",variant:"outline",className:"gap-1 border-yellow-500/30 text-yellow-400",children:[s.jsx(Ds,{"data-loc":"client/src/pages/EmailHistory.tsx:183",className:"h-3 w-3"}),"Reminder"]});case"receipt":return s.jsxs(r,{"data-loc":"client/src/pages/EmailHistory.tsx:189",variant:"outline",className:"gap-1 border-green-500/30 text-green-400",children:[s.jsx(Cs,{"data-loc":"client/src/pages/EmailHistory.tsx:193",className:"h-3 w-3"}),"Receipt"]});default:return s.jsx(r,{"data-loc":"client/src/pages/EmailHistory.tsx:198",variant:"outline",children:o})}}function Xs(){const[o,x]=c.useState(1),[E,$]=c.useState(20),[m,I]=c.useState(""),[p,z]=c.useState("all"),[g,V]=c.useState("all"),[y,K]=c.useState("all"),[e,ss]=c.useState(null),[es,D]=c.useState(!1),{sort:T,handleSort:w,sortData:Q}=fs({defaultKey:"sentAt",defaultDirection:"desc"}),{data:S,isLoading:ts,refetch:as}=R.emailHistory.list.useQuery({}),{data:h}=R.emailHistory.stats.useQuery(),A=R.emailHistory.retry.useMutation({onSuccess:()=>{Y.success("Email retry initiated"),as()},onError:t=>{Y.error(t.message||"Failed to retry email")}}),u=c.useMemo(()=>{if(!S)return[];let i=[...S.logs||[]];if(m){const l=m.toLowerCase();i=i.filter(H=>H.recipientEmail?.toLowerCase().includes(l)||H.subject?.toLowerCase().includes(l)||H.invoiceId?.toString().includes(l))}if(p!=="all"&&(i=i.filter(l=>l.emailType===p)),g!=="all"&&(i=i.filter(l=>l.deliveryStatus===g)),y!=="all"){const l=new Date;i=i.filter(H=>{const j=new Date(H.sentAt);switch(y){case"today":return j.toDateString()===l.toDateString();case"7days":return j>=new Date(l.getTime()-10080*60*1e3);case"30days":return j>=new Date(l.getTime()-720*60*60*1e3);case"90days":return j>=new Date(l.getTime()-2160*60*60*1e3);case"year":return j>=new Date(l.getTime()-365*24*60*60*1e3);default:return!0}})}return Q(i)},[S,m,p,g,y,Q]),W=u.length,q=Math.ceil(W/E),ls=c.useMemo(()=>{const t=(o-1)*E;return u.slice(t,t+E)},[u,o,E]);c.useEffect(()=>{x(1)},[m,p,g,y]);const U=async t=>{A.mutate({id:t})},is=t=>{ss(t),D(!0)},cs=()=>{I(""),z("all"),V("all"),K("all"),x(1)},rs=!!(m||p!=="all"||g!=="all"||y!=="all");return s.jsxs(hs,{"data-loc":"client/src/pages/EmailHistory.tsx:341",title:"Email History",subtitle:"Track all sent emails and their delivery status",children:[h&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:347",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(N,{"data-loc":"client/src/pages/EmailHistory.tsx:348",className:"bg-card/50",children:s.jsxs(v,{"data-loc":"client/src/pages/EmailHistory.tsx:349",className:"pb-2",children:[s.jsx(f,{"data-loc":"client/src/pages/EmailHistory.tsx:350",children:"Total Sent"}),s.jsx(b,{"data-loc":"client/src/pages/EmailHistory.tsx:351",className:"text-2xl",children:h.total})]})}),s.jsx(N,{"data-loc":"client/src/pages/EmailHistory.tsx:354",className:"bg-card/50",children:s.jsxs(v,{"data-loc":"client/src/pages/EmailHistory.tsx:355",className:"pb-2",children:[s.jsx(f,{"data-loc":"client/src/pages/EmailHistory.tsx:356",children:"Delivered"}),s.jsx(b,{"data-loc":"client/src/pages/EmailHistory.tsx:357",className:"text-2xl text-green-400",children:h.delivered})]})}),s.jsx(N,{"data-loc":"client/src/pages/EmailHistory.tsx:362",className:"bg-card/50",children:s.jsxs(v,{"data-loc":"client/src/pages/EmailHistory.tsx:363",className:"pb-2",children:[s.jsx(f,{"data-loc":"client/src/pages/EmailHistory.tsx:364",children:"Opened"}),s.jsx(b,{"data-loc":"client/src/pages/EmailHistory.tsx:365",className:"text-2xl text-blue-400",children:h.opened})]})}),s.jsx(N,{"data-loc":"client/src/pages/EmailHistory.tsx:370",className:"bg-card/50",children:s.jsxs(v,{"data-loc":"client/src/pages/EmailHistory.tsx:371",className:"pb-2",children:[s.jsx(f,{"data-loc":"client/src/pages/EmailHistory.tsx:372",children:"Failed"}),s.jsx(b,{"data-loc":"client/src/pages/EmailHistory.tsx:373",className:"text-2xl text-destructive",children:h.failed})]})})]}),s.jsx(bs,{"data-loc":"client/src/pages/EmailHistory.tsx:382",hasActiveFilters:rs,onClearFilters:cs,searchValue:m,onSearchChange:I,searchPlaceholder:"Search by email or subject...",children:s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:389",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[s.jsx(O,{"data-loc":"client/src/pages/EmailHistory.tsx:391",label:"Email Type",children:s.jsxs(k,{"data-loc":"client/src/pages/EmailHistory.tsx:392",value:p,onValueChange:z,children:[s.jsx(F,{"data-loc":"client/src/pages/EmailHistory.tsx:393",children:s.jsx(P,{"data-loc":"client/src/pages/EmailHistory.tsx:394",placeholder:"All Types"})}),s.jsxs(L,{"data-loc":"client/src/pages/EmailHistory.tsx:396",children:[s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:397",value:"all",children:"All Types"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:398",value:"invoice",children:"Invoice"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:399",value:"reminder",children:"Reminder"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:400",value:"receipt",children:"Receipt"})]})]})}),s.jsx(O,{"data-loc":"client/src/pages/EmailHistory.tsx:406",label:"Delivery Status",children:s.jsxs(k,{"data-loc":"client/src/pages/EmailHistory.tsx:407",value:g,onValueChange:V,children:[s.jsx(F,{"data-loc":"client/src/pages/EmailHistory.tsx:408",children:s.jsx(P,{"data-loc":"client/src/pages/EmailHistory.tsx:409",placeholder:"All Status"})}),s.jsxs(L,{"data-loc":"client/src/pages/EmailHistory.tsx:411",children:[s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:412",value:"all",children:"All Status"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:413",value:"sent",children:"Sent"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:414",value:"delivered",children:"Delivered"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:415",value:"opened",children:"Opened"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:416",value:"clicked",children:"Clicked"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:417",value:"bounced",children:"Bounced"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:418",value:"failed",children:"Failed"})]})]})}),s.jsx(O,{"data-loc":"client/src/pages/EmailHistory.tsx:424",label:"Date Range",children:s.jsxs(k,{"data-loc":"client/src/pages/EmailHistory.tsx:425",value:y,onValueChange:K,children:[s.jsx(F,{"data-loc":"client/src/pages/EmailHistory.tsx:426",children:s.jsx(P,{"data-loc":"client/src/pages/EmailHistory.tsx:427",placeholder:"All Time"})}),s.jsxs(L,{"data-loc":"client/src/pages/EmailHistory.tsx:429",children:[s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:430",value:"all",children:"All Time"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:431",value:"today",children:"Today"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:432",value:"7days",children:"Last 7 Days"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:433",value:"30days",children:"Last 30 Days"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:434",value:"90days",children:"Last 90 Days"}),s.jsx(a,{"data-loc":"client/src/pages/EmailHistory.tsx:435",value:"year",children:"Last Year"})]})]})})]})}),s.jsxs(N,{"data-loc":"client/src/pages/EmailHistory.tsx:443",children:[s.jsxs(v,{"data-loc":"client/src/pages/EmailHistory.tsx:444",children:[s.jsx(b,{"data-loc":"client/src/pages/EmailHistory.tsx:445",children:"Email History"}),s.jsxs(f,{"data-loc":"client/src/pages/EmailHistory.tsx:446",children:[u.length," email",u.length!==1?"s":""," found"]})]}),s.jsx(os,{"data-loc":"client/src/pages/EmailHistory.tsx:451",className:"p-0",children:s.jsx(Ns,{"data-loc":"client/src/pages/EmailHistory.tsx:452",minWidth:800,children:s.jsxs(ys,{"data-loc":"client/src/pages/EmailHistory.tsx:453",children:[s.jsx(us,{"data-loc":"client/src/pages/EmailHistory.tsx:454",children:s.jsxs(J,{"data-loc":"client/src/pages/EmailHistory.tsx:455",children:[s.jsx(C,{"data-loc":"client/src/pages/EmailHistory.tsx:456",children:"Recipient"}),s.jsx(C,{"data-loc":"client/src/pages/EmailHistory.tsx:457",children:"Subject"}),s.jsx(B,{"data-loc":"client/src/pages/EmailHistory.tsx:458",label:"Type",sortKey:"emailType",currentSort:T,onSort:w}),s.jsx(B,{"data-loc":"client/src/pages/EmailHistory.tsx:464",label:"Status",sortKey:"deliveryStatus",currentSort:T,onSort:w}),s.jsx(B,{"data-loc":"client/src/pages/EmailHistory.tsx:470",label:"Sent",sortKey:"sentAt",currentSort:T,onSort:w}),s.jsx(C,{"data-loc":"client/src/pages/EmailHistory.tsx:476",children:"Opens"}),s.jsx(C,{"data-loc":"client/src/pages/EmailHistory.tsx:477",className:"text-right",children:"Actions"})]})}),s.jsx(Es,{"data-loc":"client/src/pages/EmailHistory.tsx:480",children:ts?s.jsx(Ss,{"data-loc":"client/src/pages/EmailHistory.tsx:482",colSpan:7,rows:5}):!S||u.length===0?s.jsx("tr",{"data-loc":"client/src/pages/EmailHistory.tsx:484",children:s.jsx("td",{"data-loc":"client/src/pages/EmailHistory.tsx:485",colSpan:7,children:s.jsx(Hs,{"data-loc":"client/src/pages/EmailHistory.tsx:486",...js.emailHistory,size:"sm"})})}):ls.map(t=>s.jsxs(J,{"data-loc":"client/src/pages/EmailHistory.tsx:491",className:"cursor-pointer hover:bg-muted/50",onClick:()=>is(t),children:[s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:496",className:"font-medium",children:t.recipientEmail}),s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:499",className:"max-w-[300px] truncate",children:t.subject}),s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:502",children:s.jsx(_,{"data-loc":"client/src/pages/EmailHistory.tsx:503",type:t.emailType})}),s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:505",children:s.jsx(Z,{"data-loc":"client/src/pages/EmailHistory.tsx:506",status:t.deliveryStatus,success:t.success})}),s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:511",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:512",date:t.sentAt})}),s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:514",children:t.openCount?s.jsx("span",{"data-loc":"client/src/pages/EmailHistory.tsx:516",className:"text-blue-400",children:t.openCount}):s.jsx("span",{"data-loc":"client/src/pages/EmailHistory.tsx:518",className:"text-muted-foreground",children:"-"})}),s.jsx(n,{"data-loc":"client/src/pages/EmailHistory.tsx:521",className:"text-right",children:!t.success&&(t.retryCount||0)<3&&s.jsx(G,{"data-loc":"client/src/pages/EmailHistory.tsx:523",variant:"ghost",size:"sm",onClick:i=>{i.stopPropagation(),U(t.id)},disabled:A.isPending,children:s.jsx(X,{"data-loc":"client/src/pages/EmailHistory.tsx:532",className:"h-4 w-4"})})})]},t.id))})]})})}),q>1&&s.jsx("div",{"data-loc":"client/src/pages/EmailHistory.tsx:546",className:"px-4 md:px-6 pb-4 md:pb-6 border-t border-border/50 pt-4",children:s.jsx(vs,{"data-loc":"client/src/pages/EmailHistory.tsx:547",currentPage:o,totalPages:q,pageSize:E,totalItems:W,onPageChange:x,onPageSizeChange:t=>{$(t),x(1)},pageSizeOptions:[10,20,50,100]})})]}),s.jsx(ns,{"data-loc":"client/src/pages/EmailHistory.tsx:564",open:es,onOpenChange:D,children:s.jsxs(ds,{"data-loc":"client/src/pages/EmailHistory.tsx:565",className:"max-w-lg",children:[s.jsxs(xs,{"data-loc":"client/src/pages/EmailHistory.tsx:566",className:"pb-4",children:[s.jsx(ms,{"data-loc":"client/src/pages/EmailHistory.tsx:567",className:"text-xl",children:"Email Details"}),s.jsx(ps,{"data-loc":"client/src/pages/EmailHistory.tsx:568",className:"text-base",children:"Detailed tracking information for this email"})]}),e&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:574",className:"space-y-5 px-0",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:575",className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:576",className:"space-y-2",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:577",className:"text-sm text-muted-foreground",children:"Recipient"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:578",className:"font-medium",children:e.recipientEmail})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:580",className:"space-y-2",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:581",className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(_,{"data-loc":"client/src/pages/EmailHistory.tsx:582",type:e.emailType})]})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:586",className:"space-y-2",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:587",className:"text-sm text-muted-foreground",children:"Subject"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:588",className:"font-medium",children:e.subject})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:591",className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:592",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:593",className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Z,{"data-loc":"client/src/pages/EmailHistory.tsx:594",status:e.deliveryStatus,success:e.success})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:599",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:600",className:"text-sm text-muted-foreground",children:"Sent At"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:601",className:"font-medium",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:602",date:e.sentAt})})]})]}),e.deliveredAt&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:608",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:609",className:"text-sm text-muted-foreground",children:"Delivered At"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:610",className:"font-medium",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:611",date:e.deliveredAt})})]}),e.openedAt&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:617",className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:618",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:619",className:"text-sm text-muted-foreground",children:"First Opened"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:622",className:"font-medium",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:623",date:e.openedAt})})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:626",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:627",className:"text-sm text-muted-foreground",children:"Open Count"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:628",className:"font-medium text-blue-400",children:e.openCount||0})]})]}),e.clickedAt&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:636",className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:637",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:638",className:"text-sm text-muted-foreground",children:"First Clicked"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:641",className:"font-medium",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:642",date:e.clickedAt})})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:645",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:646",className:"text-sm text-muted-foreground",children:"Click Count"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:647",className:"font-medium text-purple-400",children:e.clickCount||0})]})]}),e.bouncedAt&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:655",className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:656",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:657",className:"text-sm text-muted-foreground",children:"Bounced At"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:658",className:"font-medium",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:659",date:e.bouncedAt})})]}),s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:662",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:663",className:"text-sm text-muted-foreground",children:"Bounce Type"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:664",className:"font-medium text-destructive",children:e.bounceType||"Unknown"})]})]}),e.errorMessage&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:672",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:673",className:"text-sm text-muted-foreground",children:"Error Message"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:674",className:"font-medium text-destructive",children:e.errorMessage})]}),e.retryCount!=null&&e.retryCount>0&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:682",className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:683",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:684",className:"text-sm text-muted-foreground",children:"Retry Attempts"}),s.jsxs("p",{"data-loc":"client/src/pages/EmailHistory.tsx:687",className:"font-medium",children:[e.retryCount," / 3"]})]}),e.nextRetryAt&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:692",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:693",className:"text-sm text-muted-foreground",children:"Next Retry"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:696",className:"font-medium",children:s.jsx(d,{"data-loc":"client/src/pages/EmailHistory.tsx:697",date:e.nextRetryAt})})]})]}),e.messageId&&s.jsxs("div",{"data-loc":"client/src/pages/EmailHistory.tsx:705",children:[s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:706",className:"text-sm text-muted-foreground",children:"Message ID"}),s.jsx("p",{"data-loc":"client/src/pages/EmailHistory.tsx:707",className:"font-mono text-xs text-muted-foreground truncate",children:e.messageId})]})]}),s.jsx(gs,{"data-loc":"client/src/pages/EmailHistory.tsx:715",children:e&&!e.success&&(e.retryCount??0)<3&&s.jsxs(G,{"data-loc":"client/src/pages/EmailHistory.tsx:719",variant:"outline",onClick:()=>{U(e.id),D(!1)},disabled:A.isPending,children:[s.jsx(X,{"data-loc":"client/src/pages/EmailHistory.tsx:727",className:"h-4 w-4 mr-2"}),"Retry Email"]})})]})})]})}export{Xs as default};
