import{j as e,r as N}from"./vendor-react-BuVtq312.js";import{t as v,C as B,B as j,L as b,c as f,a as E,u as A,b as T,G as R,g as z,D as F,d as Q,e as G,f as O,h as q,i as K,j as y}from"./index-hzFfJlKH.js";import{N as W,n as I}from"./Navigation-DKoTJDrW.js";import{m as Y,A as J,Z as $,X as V,u as w,L as Z,W as L,J as H,N as X,O as _,T as U,a as ee,Q as ae,V as se,d as te}from"./vendor-icons-CPPAmKDz.js";import{E as re,a as oe}from"./EmptyState-B5hZ-p_K.js";import{T as ce}from"./textarea-CA7ezKjn.js";import{S as k}from"./SleekyAvatar-D0qZ2Lt0.js";import{S as M,a as ne}from"./skeleton-QN8DVCY2.js";import{I as de,C as le}from"./typography-CdqW54LS.js";import{A as ie,a as S,b as P}from"./animated-number-BW6FOj-n.js";import"./vendor-data-DopHG4T0.js";import"./vendor-radix-DQBG9U-J.js";import"./UserAvatar-DzPpP9tb.js";import"./vendor-date-B2OJh1lx.js";function xe(){const{data:o,isLoading:n}=v.subscription.getUsage.useQuery();if(n||o?.isPro)return null;const a=["Unlimited invoices","Stripe payment links","Email reminders","Advanced analytics"];return e.jsx(B,{"data-loc":"client/src/components/UpgradePromoBanner.tsx:30",className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:e.jsx("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:31",className:"p-6 md:p-8",children:e.jsxs("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:32",className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[e.jsxs("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:34",className:"flex-1 space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:36",children:[e.jsx("h3",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:37",className:"text-2xl md:text-3xl font-bold text-foreground mb-2",children:"Upgrade to Pro"}),e.jsx("p",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:40",className:"text-muted-foreground text-base",children:"Unlock unlimited invoicing and premium features for just $12/month"})]}),e.jsx("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:47",className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2",children:a.map((t,c)=>e.jsxs("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:49",className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:50",className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(Y,{"data-loc":"client/src/components/UpgradePromoBanner.tsx:51",className:"h-3 w-3 text-primary"})}),e.jsx("span",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:53",className:"text-foreground/90",children:t})]},c))})]}),e.jsxs("div",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:60",className:"flex flex-col gap-3 w-full md:w-auto",children:[e.jsx(j,{"data-loc":"client/src/components/UpgradePromoBanner.tsx:61",asChild:!0,size:"lg",className:"w-full md:w-auto bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-xl transition-all duration-200 group",children:e.jsx(b,{"data-loc":"client/src/components/UpgradePromoBanner.tsx:66",href:"/subscription",children:e.jsx("span",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:67",className:"font-semibold",children:"Upgrade Now"})})}),e.jsx("p",{"data-loc":"client/src/components/UpgradePromoBanner.tsx:71",className:"text-xs text-center text-muted-foreground",children:"Cancel anytime • No hidden fees"})]})]})})})}function me({onExtract:o,onClose:n,className:a}){const[t,c]=N.useState(""),[g,i]=N.useState(!1),x=N.useRef(null),{data:d}=v.ai.getCredits.useQuery(),l=v.ai.smartCompose.useMutation({onSuccess:r=>{r.success&&r.data&&(o(r.data),c(""),i(!1))}});N.useEffect(()=>{g&&x.current&&x.current.focus()},[g]);const m=()=>{!t.trim()||l.isPending||l.mutate({text:t.trim()})},p=r=>{r.key==="Enter"&&(r.metaKey||r.ctrlKey)&&(r.preventDefault(),m()),r.key==="Escape"&&(i(!1),c(""))},h=d&&d.remaining>0,s=l.isPending;return g?e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:113","data-magic-invoice":!0,className:f("relative overflow-hidden rounded-xl","bg-gradient-to-br from-card via-card/95 to-card/90","border border-border/40","shadow-xl shadow-primary/5","animate-in fade-in slide-in-from-top-1 duration-200",a),children:[e.jsx("div",{"data-loc":"client/src/components/MagicInput.tsx:125",className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-emerald-500/5 pointer-events-none"}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:127",className:"relative p-4",children:[e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:129",className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:130",className:"flex items-center gap-3",children:[e.jsx(k,{"data-loc":"client/src/components/MagicInput.tsx:131",size:"sm",bordered:!0,glow:!0}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:132",children:[e.jsx("h3",{"data-loc":"client/src/components/MagicInput.tsx:133",className:"font-semibold text-foreground",children:"Sleeky's Magic Invoice"}),e.jsx("p",{"data-loc":"client/src/components/MagicInput.tsx:136",className:"text-xs text-muted-foreground",children:"AI-powered invoice creation"})]})]}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:141",className:"flex items-center gap-2",children:[d&&e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:143",className:f("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium",d.remaining>0?"bg-emerald-500/10 text-emerald-500":"bg-destructive/10 text-destructive"),children:[e.jsx($,{"data-loc":"client/src/components/MagicInput.tsx:151",className:"h-3 w-3"}),d.remaining," credits"]}),e.jsx(j,{"data-loc":"client/src/components/MagicInput.tsx:155",variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg hover:bg-muted/80",onClick:()=>{i(!1),c(""),n?.()},"aria-label":"Close magic input",children:e.jsx(V,{"data-loc":"client/src/components/MagicInput.tsx:166",className:"h-4 w-4"})})]})]}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:172",className:"relative",children:[e.jsx(ce,{"data-loc":"client/src/components/MagicInput.tsx:173",ref:x,value:t,onChange:r=>c(r.target.value),onKeyDown:p,placeholder:'Try: "Invoice Acme Corp for website redesign, $5000, due in 2 weeks"',className:f("min-h-[100px] resize-none","bg-background/60 backdrop-blur-sm","border-muted/50 focus:border-primary/50","rounded-xl","text-sm leading-relaxed","placeholder:text-muted-foreground/60"),disabled:s}),t.length>0&&e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:192",className:"absolute bottom-3 right-3 text-xs text-muted-foreground/50",children:[t.length," chars"]})]}),l.error&&e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:200",className:"mt-3 flex items-center gap-2 p-4 rounded-lg bg-destructive/10 border border-destructive/20 text-sm text-destructive",children:[e.jsx(w,{"data-loc":"client/src/components/MagicInput.tsx:201",className:"h-4 w-4 shrink-0"}),e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:202",children:l.error.message})]}),l.data&&!l.data.success&&e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:207",className:"mt-3 flex items-center gap-2 p-4 rounded-lg bg-destructive/10 border border-destructive/20 text-sm text-destructive",children:[e.jsx(w,{"data-loc":"client/src/components/MagicInput.tsx:208",className:"h-4 w-4 shrink-0"}),e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:209",children:l.data.error})]}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:214",className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:215",className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("kbd",{"data-loc":"client/src/components/MagicInput.tsx:216",className:"px-2 py-1 rounded bg-muted/80 text-xs font-mono",children:"⌘"}),e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:219",children:"+"}),e.jsx("kbd",{"data-loc":"client/src/components/MagicInput.tsx:220",className:"px-2 py-1 rounded bg-muted/80 text-xs font-mono",children:"Enter"}),e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:223",className:"ml-1",children:"to generate"})]}),e.jsx(j,{"data-loc":"client/src/components/MagicInput.tsx:225",size:"sm",onClick:m,disabled:!t.trim()||s||!h,className:"gap-2 rounded-lg px-4",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Z,{"data-loc":"client/src/components/MagicInput.tsx:233",className:"h-4 w-4 animate-spin"}),e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:234",children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{"data-loc":"client/src/components/MagicInput.tsx:238",className:"h-4 w-4"}),e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:239",children:"Generate Invoice"})]})})]}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:246",className:"mt-4 pt-4 border-t border-border/30",children:[e.jsx("p",{"data-loc":"client/src/components/MagicInput.tsx:247",className:"text-xs text-muted-foreground mb-2.5 font-medium",children:"Quick examples"}),e.jsx("div",{"data-loc":"client/src/components/MagicInput.tsx:250",className:"flex flex-wrap gap-2",children:["Invoice John for 10 hours consulting at $150/hr","Bill ABC Corp $2500 for logo design, due net 30","3 website pages at $800 each for Tech Startup"].map((r,u)=>e.jsx("button",{"data-loc":"client/src/components/MagicInput.tsx:256",onClick:()=>c(r),className:f("text-xs px-3 py-1.5 rounded-full","bg-muted/40 hover:bg-muted/80","text-muted-foreground hover:text-foreground","border border-transparent hover:border-border/50","transition-all duration-200"),children:r},u))})]})]})]}):e.jsxs("button",{"data-loc":"client/src/components/MagicInput.tsx:73","data-magic-invoice":!0,onClick:()=>i(!0),disabled:!h,className:f("group w-full flex items-center gap-3 px-4 py-3 rounded-xl","bg-gradient-to-r from-primary/5 via-primary/8 to-emerald-500/5","border border-border/40 hover:border-border/60","transition-all duration-300 hover:shadow-lg hover:shadow-primary/10","disabled:opacity-50 disabled:cursor-not-allowed",a),children:[e.jsx(k,{"data-loc":"client/src/components/MagicInput.tsx:86",size:"sm",bordered:!0,className:"group-hover:scale-105 transition-transform"}),e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:91",className:"flex-1 text-left",children:[e.jsxs("div",{"data-loc":"client/src/components/MagicInput.tsx:92",className:"flex items-center gap-2",children:[e.jsx("span",{"data-loc":"client/src/components/MagicInput.tsx:93",className:"text-sm font-medium text-foreground",children:"Sleeky's Magic Invoice"}),d&&e.jsxs("span",{"data-loc":"client/src/components/MagicInput.tsx:97",className:"text-xs text-muted-foreground tabular-nums",children:[d.remaining,"/",d.limit]})]}),e.jsx("p",{"data-loc":"client/src/components/MagicInput.tsx:102",className:"text-xs text-muted-foreground",children:"Describe your invoice in plain English"})]}),e.jsx(J,{"data-loc":"client/src/components/MagicInput.tsx:106",className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-0.5 transition-all"})]})}function he({invoicesCreatedThisMonth:o,invoiceLimit:n}){if(!n)return e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:23",className:"group relative overflow-hidden rounded-xl border border-emerald-500/20 bg-gradient-to-r from-emerald-500/5 via-transparent to-emerald-500/5 px-4 py-3 transition-all duration-300 hover:border-emerald-500/30 hover:shadow-lg hover:shadow-emerald-500/5",children:[e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:25",className:"absolute inset-0 bg-gradient-to-r from-emerald-500/0 via-emerald-500/5 to-emerald-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:27",className:"relative flex items-center justify-between gap-4",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:28",className:"flex items-center gap-3",children:[e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:29",className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-500/10 ring-1 ring-emerald-500/20",children:e.jsx(H,{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:30",className:"h-4 w-4 text-emerald-500"})}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:32",className:"flex items-center gap-2",children:[e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:33",className:"text-sm font-medium text-foreground",children:"Unlimited Invoices"}),e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:36",className:"text-xs text-muted-foreground",children:"•"}),e.jsxs("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:37",className:"text-xs text-muted-foreground tabular-nums",children:[o," created this month"]})]})]}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:42",className:"flex items-center gap-2",children:[e.jsx(X,{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:43",className:"h-3.5 w-3.5 text-emerald-500"}),e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:44",className:"text-xs font-semibold text-emerald-500 tracking-wide uppercase",children:"Pro"})]})]})]});const a=Math.round(o/n*100),t=Math.max(0,n-o),c=a>=70,g=a>=90;let i=_,x="bg-emerald-500/10",d="ring-emerald-500/20",l="text-emerald-500",m="bg-emerald-500",p="from-emerald-500/5",h="to-emerald-500/10",s="shadow-emerald-500/10",r="You're doing great!";return g?(i=w,x="bg-destructive/10",d="ring-red-500/20",l="text-destructive",m="bg-destructive/100",p="from-red-500/5",h="to-red-500/10",s="shadow-red-500/10",r="Upgrade for unlimited invoices"):c&&(i=U,x="bg-amber-500/10",d="ring-amber-500/20",l="text-amber-500",m="bg-amber-500",p="from-amber-500/5",h="to-amber-500/10",s="shadow-amber-500/10",r="Running low on invoices"),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:97",className:`group relative overflow-hidden rounded-2xl border border-border/50 bg-gradient-to-br ${p} ${h} p-5 transition-all duration-300 hover:border-border hover:shadow-xl ${s}`,children:[e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:101",className:"absolute -right-8 -top-8 h-32 w-32 rounded-full bg-gradient-to-br from-primary/5 to-transparent blur-2xl opacity-50"}),e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:102",className:"absolute -left-4 -bottom-4 h-24 w-24 rounded-full bg-gradient-to-tr from-primary/5 to-transparent blur-xl opacity-30"}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:104",className:"relative",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:106",className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:107",className:"flex items-center gap-3",children:[e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:108",className:`flex h-11 w-11 items-center justify-center rounded-xl ${x} ring-1 ${d} transition-transform duration-300 group-hover:scale-105`,children:e.jsx(i,{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:111",className:`h-5 w-5 ${l}`})}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:113",children:[e.jsx("h3",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:114",className:"text-base font-semibold text-foreground",children:"Monthly Usage"}),e.jsx("p",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:117",className:"text-xs text-muted-foreground mt-0.5",children:r})]})]}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:124",className:"text-right",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:125",className:"flex items-baseline gap-1",children:[e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:126",className:"text-3xl font-bold tabular-nums text-foreground",children:o}),e.jsxs("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:129",className:"text-lg text-muted-foreground font-medium",children:["/ ",n]})]}),e.jsx("p",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:133",className:"text-xs text-muted-foreground mt-0.5",children:"invoices created"})]})]}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:140",className:"space-y-3",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:141",className:"relative h-2.5 w-full overflow-hidden rounded-full bg-muted/30",children:[e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:142",className:`h-full rounded-full transition-all duration-700 ease-out ${m}`,style:{width:`${Math.min(a,100)}%`}}),e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:147",className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:150",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:151",className:"flex items-center gap-2",children:[e.jsxs("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:152",className:`text-sm font-semibold ${l}`,children:[a,"%"]}),e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:155",className:"text-xs text-muted-foreground",children:"used"})]}),e.jsxs("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:157",className:"text-sm text-muted-foreground",children:[e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:158",className:"font-medium text-foreground",children:t})," ","remaining"]})]})]}),c&&e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:166",className:"mt-4 pt-4 border-t border-border/50",children:e.jsx(b,{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:167",href:"/settings?tab=billing",children:e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:168",className:"flex items-center justify-between p-3 rounded-xl bg-gradient-to-r from-primary/5 to-primary/10 border border-primary/20 cursor-pointer transition-all duration-200 hover:border-primary/40 hover:shadow-md hover:shadow-primary/5 group/cta",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:169",className:"flex items-center gap-3",children:[e.jsx("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:170",className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:e.jsx($,{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:171",className:"h-4 w-4 text-primary"})}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:173",children:[e.jsx("p",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:174",className:"text-sm font-medium text-foreground",children:"Upgrade to Pro"}),e.jsx("p",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:177",className:"text-xs text-muted-foreground",children:"Unlimited invoices & premium features"})]})]}),e.jsxs("div",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:182",className:"flex items-center gap-1 text-primary text-sm font-medium opacity-0 -translate-x-2 group-hover/cta:opacity-100 group-hover/cta:translate-x-0 transition-all duration-200",children:[e.jsx("span",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:183",children:"Upgrade"}),e.jsx("svg",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:184",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"data-loc":"client/src/components/dashboard/MonthlyUsageCard.tsx:190",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})]})]})}function D(){return e.jsx(B,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:20",className:"border-border",children:e.jsxs(E,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:21",className:"p-4",children:[e.jsxs("div",{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:22",className:"flex items-center justify-between",children:[e.jsx(M,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:23",className:"h-4 w-24"}),e.jsx(ne,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:24"})]}),e.jsx(M,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:26",className:"h-9 w-32 mt-2"}),e.jsx(M,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:27",className:"h-3 w-28 mt-3"})]})})}function pe(){return e.jsxs("div",{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:38",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(D,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:39"}),e.jsx(D,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:40"}),e.jsx(D,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:41"}),e.jsx(D,{"data-loc":"client/src/components/dashboard/DashboardSkeleton.tsx:42"})]})}function Pe(){const[,o]=A(),{user:n,loading:a,isAuthenticated:t}=T(),{data:c,isLoading:g}=v.analytics.getStats.useQuery(void 0,{enabled:t}),{data:i,isLoading:x}=v.invoices.list.useQuery(void 0,{enabled:t});if(a)return e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:74",className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:75",className:"opacity-70",children:e.jsx(R,{"data-loc":"client/src/pages/Dashboard.tsx:76",size:"md"})})});if(!t)return window.location.href=z(),null;const d=i?.slice(0,5)||[],l=i?.filter(s=>{const r=new Date(s.issueDate),u=new Date;return r.getMonth()===u.getMonth()&&r.getFullYear()===u.getFullYear()}).length||0,m=i?.filter(s=>s.status==="overdue").length||0,p=i?.filter(s=>s.status==="sent").length||0,h=i?.filter(s=>s.status==="draft").length||0;return e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:109",className:"page-wrapper",children:[e.jsx(W,{"data-loc":"client/src/pages/Dashboard.tsx:110"}),e.jsx("main",{"data-loc":"client/src/pages/Dashboard.tsx:113",id:"main-content",className:"page-content page-transition",role:"main","aria-label":"Dashboard",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:119",className:"section-stack",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:121",className:"page-header",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:122",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:123",className:"flex-1",children:[e.jsx("h1",{"data-loc":"client/src/pages/Dashboard.tsx:124",className:"page-header-title",children:"Dashboard"}),e.jsxs("p",{"data-loc":"client/src/pages/Dashboard.tsx:125",className:"page-header-subtitle",children:["Welcome back, ",n?.name||"there","!"]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:131",className:"flex items-center gap-2 flex-wrap",children:[m>0&&e.jsx(C,{"data-loc":"client/src/pages/Dashboard.tsx:133",label:"Overdue",count:m,variant:"destructive",onClick:()=>o("/invoices?status=overdue")}),p>0&&e.jsx(C,{"data-loc":"client/src/pages/Dashboard.tsx:141",label:"Pending",count:p,variant:"warning",onClick:()=>o("/invoices?status=sent")}),h>0&&e.jsx(C,{"data-loc":"client/src/pages/Dashboard.tsx:149",label:"Draft",count:h,variant:"secondary",onClick:()=>o("/invoices?status=draft")})]}),e.jsxs(F,{"data-loc":"client/src/pages/Dashboard.tsx:158",children:[e.jsx(Q,{"data-loc":"client/src/pages/Dashboard.tsx:159",asChild:!0,children:e.jsxs(j,{"data-loc":"client/src/pages/Dashboard.tsx:160",className:"touch-target gap-2",children:[e.jsx(I,{"data-loc":"client/src/pages/Dashboard.tsx:161",weight:"bold",className:"h-4 w-4"}),e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:162",className:"hidden sm:inline",children:"New Invoice"}),e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:163",className:"sm:hidden",children:"New"})]})}),e.jsxs(G,{"data-loc":"client/src/pages/Dashboard.tsx:166",className:"sm:max-w-md",children:[e.jsxs(O,{"data-loc":"client/src/pages/Dashboard.tsx:167",children:[e.jsx(q,{"data-loc":"client/src/pages/Dashboard.tsx:168",children:"Create New Invoice"}),e.jsx(K,{"data-loc":"client/src/pages/Dashboard.tsx:169",children:"Choose how you'd like to create your invoice"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:173",className:"grid gap-4 px-6 py-4",children:[e.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:175",type:"button",className:"group relative rounded-xl border border-emerald-500/30 bg-gradient-to-br from-emerald-500/5 to-emerald-500/10 p-4 cursor-pointer transition-all duration-200 hover:border-emerald-500/50 hover:shadow-lg hover:shadow-emerald-500/10 w-full text-left",onClick:()=>{const s=document.querySelector("[data-magic-invoice]");if(s){s.scrollIntoView({behavior:"smooth",block:"center"});const u=s.querySelector("input, textarea");u&&setTimeout(()=>u.focus(),500)}const r=document.querySelector("[data-dialog-close]");r&&r.click()},children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:203",className:"flex items-start gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:204",className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-emerald-500/10 text-emerald-500 group-hover:bg-emerald-500/20 transition-colors",children:e.jsx(ee,{"data-loc":"client/src/pages/Dashboard.tsx:205",className:"h-6 w-6"})}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:207",className:"flex-1",children:[e.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:208",className:"font-semibold text-foreground mb-1",children:"AI Magic Invoice"}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:211",className:"text-sm text-muted-foreground leading-relaxed",children:"Describe what you need in plain English and let AI create your invoice instantly."})]})]}),e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:217",className:"absolute top-3 right-3",children:e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:218",className:"inline-flex items-center rounded-full bg-emerald-500/10 px-2 py-0.5 text-xs font-medium text-emerald-500",children:"Fastest"})})]}),e.jsx(b,{"data-loc":"client/src/pages/Dashboard.tsx:225",href:"/invoices/guided",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:226",className:"group relative rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/5 to-purple-500/10 p-4 cursor-pointer transition-all duration-200 hover:border-purple-500/50 hover:shadow-lg hover:shadow-purple-500/10",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:227",className:"flex items-start gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:228",className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-purple-500/10 text-purple-500 group-hover:bg-purple-500/20 transition-colors",children:e.jsx(L,{"data-loc":"client/src/pages/Dashboard.tsx:229",className:"h-6 w-6"})}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:231",className:"flex-1",children:[e.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:232",className:"font-semibold text-foreground mb-1",children:"Smart Invoice Builder"}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:235",className:"text-sm text-muted-foreground leading-relaxed",children:"Answer simple questions step-by-step. Perfect for beginners or when you want guidance."})]})]}),e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:241",className:"absolute top-3 right-3",children:e.jsx(y,{"data-loc":"client/src/pages/Dashboard.tsx:242",variant:"info",children:"Guided"})})]})}),e.jsx(b,{"data-loc":"client/src/pages/Dashboard.tsx:248",href:"/invoices/create",children:e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:249",className:"group rounded-xl border border-border/50 bg-card/50 p-4 cursor-pointer transition-all duration-200 hover:border-border hover:bg-card hover:shadow-md",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:250",className:"flex items-start gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:251",className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-muted text-muted-foreground group-hover:bg-accent group-hover:text-foreground transition-colors",children:e.jsx(ae,{"data-loc":"client/src/pages/Dashboard.tsx:252",className:"h-6 w-6"})}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:254",className:"flex-1",children:[e.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:255",className:"font-semibold text-foreground mb-1",children:"Classic Form"}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:258",className:"text-sm text-muted-foreground leading-relaxed",children:"Traditional invoice form with all fields visible. Best for experienced users."})]})]})})})]})]})]})]})}),e.jsx(ge,{"data-loc":"client/src/pages/Dashboard.tsx:273"}),e.jsx(xe,{"data-loc":"client/src/pages/Dashboard.tsx:276"}),e.jsx(he,{"data-loc":"client/src/pages/Dashboard.tsx:279",invoicesCreatedThisMonth:l,invoiceLimit:void 0}),g?e.jsx(pe,{"data-loc":"client/src/pages/Dashboard.tsx:286"}):e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:288",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:290",className:"rounded-2xl bg-gradient-to-br from-card to-card/80 border border-border/50 p-5 backdrop-blur-sm transition-all duration-200 hover:border-border hover:shadow-lg hover:shadow-primary/5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:291",className:"flex items-center justify-between mb-3",children:[e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:292",className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsxs(y,{"data-loc":"client/src/pages/Dashboard.tsx:295",variant:"success",className:"gap-1",children:[e.jsx(se,{"data-loc":"client/src/pages/Dashboard.tsx:296",className:"h-3 w-3"}),e.jsx(ie,{"data-loc":"client/src/pages/Dashboard.tsx:297",value:c?.revenueChangePercent||12.5,showSign:!0,duration:600,delay:400})]})]}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:305",className:"text-2xl tracking-tight text-foreground",children:e.jsx(S,{"data-loc":"client/src/pages/Dashboard.tsx:306",amount:c?.totalRevenue||0,bold:!0,duration:900})}),e.jsxs("p",{"data-loc":"client/src/pages/Dashboard.tsx:312",className:"text-xs text-muted-foreground mt-2 flex items-center gap-1.5",children:[e.jsx(U,{"data-loc":"client/src/pages/Dashboard.tsx:313",className:"h-3 w-3 text-emerald-500"}),"Trending up this month"]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:319",className:"rounded-2xl bg-gradient-to-br from-card to-card/80 border border-border/50 p-5 backdrop-blur-sm transition-all duration-200 hover:border-border hover:shadow-lg hover:shadow-amber/5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:320",className:"flex items-center justify-between mb-3",children:[e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:321",className:"text-sm font-medium text-muted-foreground",children:"Outstanding"}),(c?.outstandingBalance||0)>0&&e.jsxs(y,{"data-loc":"client/src/pages/Dashboard.tsx:325",variant:"warning",className:"gap-1",children:[e.jsx(w,{"data-loc":"client/src/pages/Dashboard.tsx:326",className:"h-3 w-3"}),"Pending"]})]}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:331",className:"text-2xl tracking-tight text-foreground",children:e.jsx(S,{"data-loc":"client/src/pages/Dashboard.tsx:332",amount:c?.outstandingBalance||0,bold:!0,duration:900,delay:100})}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:339",className:"text-xs text-muted-foreground mt-2",children:"Awaiting payment"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:345",className:"rounded-2xl bg-gradient-to-br from-card to-card/80 border border-border/50 p-5 backdrop-blur-sm transition-all duration-200 hover:border-border hover:shadow-lg",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:346",className:"flex items-center justify-between mb-3",children:e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:347",className:"text-sm font-medium text-muted-foreground",children:"Total Invoices"})}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:351",className:"text-2xl tracking-tight text-foreground",children:e.jsx(P,{"data-loc":"client/src/pages/Dashboard.tsx:352",value:c?.totalInvoices||0,bold:!0,duration:700,delay:200})}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:359",className:"text-xs text-muted-foreground mt-2",children:"All time invoices created"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:365",className:"rounded-2xl bg-gradient-to-br from-card to-card/80 border border-border/50 p-5 backdrop-blur-sm transition-all duration-200 hover:border-border hover:shadow-lg hover:shadow-emerald/5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:366",className:"flex items-center justify-between mb-3",children:[e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:367",className:"text-sm font-medium text-muted-foreground",children:"Paid Invoices"}),e.jsxs(y,{"data-loc":"client/src/pages/Dashboard.tsx:370",variant:"success",className:"gap-1",children:[e.jsx(U,{"data-loc":"client/src/pages/Dashboard.tsx:371",className:"h-3 w-3"}),"Paid"]})]}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:375",className:"text-2xl tracking-tight text-foreground",children:e.jsx(P,{"data-loc":"client/src/pages/Dashboard.tsx:376",value:c?.paidInvoices||0,bold:!0,duration:700,delay:300})}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:383",className:"text-xs text-muted-foreground mt-2",children:"Successfully collected"})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:391",className:"rounded-2xl bg-gradient-to-br from-card to-card/80 border border-border/50 backdrop-blur-sm overflow-hidden",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:392",className:"flex items-center justify-between p-5 pb-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:393",children:[e.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:394",className:"text-lg font-semibold text-foreground",children:"Recent Invoices"}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:397",className:"text-sm text-muted-foreground",children:"Your latest invoices and their status"})]}),e.jsx(j,{"data-loc":"client/src/pages/Dashboard.tsx:401",variant:"outline",size:"sm",asChild:!0,className:"rounded-xl border-border/50 hover:border-border hover:bg-accent/50",children:e.jsx(b,{"data-loc":"client/src/pages/Dashboard.tsx:407",href:"/invoices",children:"View All"})})]}),e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:410",className:"px-5 pb-5",children:x?e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:412",className:"space-y-2",children:[1,2,3,4,5].map(s=>e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:414",className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:418",className:"flex items-center gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:419",className:"h-10 w-10 rounded-full bg-accent animate-pulse"}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:420",className:"space-y-2",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:421",className:"h-4 w-24 bg-accent animate-pulse rounded"}),e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:422",className:"h-3 w-20 bg-accent animate-pulse rounded"})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:425",className:"flex items-center gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:426",className:"h-5 w-16 bg-accent animate-pulse rounded-full"}),e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:427",className:"h-5 w-20 bg-accent animate-pulse rounded"})]})]},s))}):d.length===0?e.jsx(re,{"data-loc":"client/src/pages/Dashboard.tsx:433",...oe.invoices,action:{label:"Create Invoice",onClick:()=>o("/invoices/create"),icon:I}}):e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:442",className:"space-y-2",children:d.map(s=>e.jsxs(b,{"data-loc":"client/src/pages/Dashboard.tsx:444",href:`/invoices/${s.id}`,className:"group flex items-center justify-between p-4 rounded-xl border border-border/50 hover:border-border hover:bg-accent/30 transition-all duration-200",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:449",className:"flex items-center gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:450",className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center group-hover:bg-primary/15 transition-colors",children:e.jsx(te,{"data-loc":"client/src/pages/Dashboard.tsx:451",className:"h-5 w-5 text-primary"})}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:453",children:[e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:454",className:"font-medium text-foreground",children:e.jsx(de,{"data-loc":"client/src/pages/Dashboard.tsx:455",value:s.invoiceNumber})}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:457",className:"text-xs text-muted-foreground",children:new Date(s.issueDate).toLocaleDateString()})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:462",className:"flex items-center gap-4",children:[e.jsx(ue,{"data-loc":"client/src/pages/Dashboard.tsx:463",status:s.status}),e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:464",className:"font-semibold text-foreground min-w-[80px] text-right tabular-nums",children:e.jsx(le,{"data-loc":"client/src/pages/Dashboard.tsx:465",amount:Number(s.total)})})]})]},s.id))})})]})]})})]})}function ge(){const[,o]=A(),n=a=>{const t=new URLSearchParams;a.clientName&&t.set("clientName",a.clientName),a.clientEmail&&t.set("clientEmail",a.clientEmail),a.dueDate&&t.set("dueDate",a.dueDate),a.notes&&t.set("notes",a.notes),a.currency&&t.set("currency",a.currency),a.lineItems.length>0&&t.set("lineItems",JSON.stringify(a.lineItems)),o(`/invoices/create?${t.toString()}`)};return e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:505","data-magic-invoice":!0,children:e.jsx(me,{"data-loc":"client/src/pages/Dashboard.tsx:506",onExtract:n,className:"w-full"})})}function ue({status:o}){const n={draft:{bg:"bg-gray-500/10",text:"text-gray-400",label:"Draft"},sent:{bg:"bg-blue-500/10",text:"text-blue-400",label:"Sent"},paid:{bg:"bg-green-500/10",text:"text-green-400",label:"Paid"},overdue:{bg:"bg-destructive/10",text:"text-destructive",label:"Overdue"},canceled:{bg:"bg-gray-500/10",text:"text-gray-500",label:"Canceled"}},a=n[o]||n.draft;return e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:534",className:`px-2.5 py-1 rounded-full text-xs font-medium ${a.bg} ${a.text}`,children:a.label})}function C({label:o,count:n,variant:a,onClick:t}){const c={destructive:"bg-destructive/10 text-destructive border-destructive/20 hover:bg-destructive/100/20 hover:border-destructive/30",warning:"bg-amber-500/10 text-amber-500 border-amber-500/20 hover:bg-amber-500/20 hover:border-amber-500/30",secondary:"bg-gray-500/10 text-gray-400 border-gray-500/20 hover:bg-gray-500/20 hover:border-gray-500/30"};return e.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:563",type:"button",onClick:t,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border transition-all duration-200 hover:scale-105 ${c[a]}`,"aria-label":`${n} ${o} invoices, click to view`,children:[e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:569",className:"font-semibold",children:n}),e.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:570",children:o})]})}export{Pe as default};
