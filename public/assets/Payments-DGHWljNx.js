import{r as n,j as e}from"./vendor-react-BuVtq312.js";import{t as E,k,C as U,z as W,E as z,A as O,a as V,D as re,e as de,f as ie,h as oe,B as w,i as ke,l as Te,I as j,n as Ae,j as Ie}from"./index-hzFfJlKH.js";import{T as Me,a as Fe,b as me,c as T,d as Re,e as v}from"./table-y7wtTQEZ.js";import{L as d}from"./label-DJDGx5UM.js";import{S as x,a as p,b as y,c as g,d as t}from"./select-BmfPitD4.js";import{T as Le}from"./textarea-CA7ezKjn.js";import{P as He}from"./PageLayout-D7c6YbGr.js";import{P as Be}from"./PageSkeletons-DirSuB2s.js";import{E as xe,a as pe}from"./EmptyState-B5hZ-p_K.js";import{D as _,C as ye}from"./typography-CdqW54LS.js";import{a as ge,b as he}from"./animated-number-BW6FOj-n.js";import{S as Ee,a as ue,P as Ue}from"./scrollable-table-wrapper-nwSnGFpJ.js";import{u as We,F as ze,a as $}from"./useTableSort-BKzs4CS_.js";import{a8 as Pe,aM as Oe,f as Q,ap as Ve,l as _e,m as K,y as q,B as G,E as $e,aN as Qe,D as je,F as Ke,aO as qe}from"./vendor-icons-CPPAmKDz.js";import"./vendor-data-DopHG4T0.js";import"./vendor-radix-DQBG9U-J.js";import"./Navigation-DKoTJDrW.js";import"./UserAvatar-DzPpP9tb.js";import"./skeleton-QN8DVCY2.js";import"./vendor-date-B2OJh1lx.js";function gs(){const[ve,N]=n.useState(!1),[c,X]=n.useState(null),[A,Y]=n.useState(null),[a,r]=n.useState({invoiceId:"",amount:"",currency:"USD",paymentMethod:"manual",paymentDate:new Date().toISOString().split("T")[0],notes:"",cryptoAmount:"",cryptoCurrency:"",cryptoNetwork:"",cryptoTxHash:"",cryptoWalletAddress:""}),[I,D]=n.useState(1),[f,Ne]=n.useState(10),[h,J]=n.useState(""),[i,M]=n.useState("all"),[o,F]=n.useState("all"),[m,R]=n.useState("all"),{sort:Z,handleSort:ee,sortData:se}=We({defaultKey:"paymentDate",defaultDirection:"desc"}),{data:b,isLoading:fe,refetch:ae}=E.payments.list.useQuery({}),{data:S}=E.payments.getStats.useQuery(),te=E.payments.create.useMutation({onSuccess:()=>{k.success("Payment recorded successfully"),N(!1),ae(),r({invoiceId:"",amount:"",currency:"USD",paymentMethod:"manual",paymentDate:new Date().toISOString().split("T")[0],notes:"",cryptoAmount:"",cryptoCurrency:"",cryptoNetwork:"",cryptoTxHash:"",cryptoWalletAddress:""})},onError:s=>{k.error(`Failed to record payment: ${s.message}`)}}),u=n.useMemo(()=>{if(!b)return[];let s=[...b];if(h){const l=h.toLowerCase();s=s.filter(P=>P.invoiceId.toString().includes(l)||P.notes?.toLowerCase().includes(l)||P.paymentMethod.toLowerCase().includes(l))}if(i!=="all"&&(s=s.filter(l=>l.paymentMethod===i)),o!=="all"&&(s=s.filter(l=>l.status===o)),m!=="all"){const l=new Date;s=s.filter(P=>{const C=new Date(P.paymentDate);switch(m){case"today":return C.toDateString()===l.toDateString();case"7days":return C>=new Date(l.getTime()-10080*60*1e3);case"30days":return C>=new Date(l.getTime()-720*60*60*1e3);case"90days":return C>=new Date(l.getTime()-2160*60*60*1e3);case"year":return C>=new Date(l.getTime()-365*24*60*60*1e3);default:return!0}})}return se(s)},[b,h,i,o,m,se]),ce=u.length,le=Math.ceil(ce/f),be=n.useMemo(()=>{const s=(I-1)*f;return u.slice(s,s+f)},[u,I,f]);n.useEffect(()=>{D(1)},[h,i,o,m]);const Ce=()=>{if(!a.invoiceId||!a.amount){k.error("Please fill in all required fields");return}te.mutate({invoiceId:parseInt(a.invoiceId),amount:a.amount,currency:a.currency,paymentMethod:a.paymentMethod,paymentDate:new Date(a.paymentDate),notes:a.notes||void 0,...a.paymentMethod==="crypto"&&{cryptoAmount:a.cryptoAmount||void 0,cryptoCurrency:a.cryptoCurrency||void 0,cryptoNetwork:a.cryptoNetwork||void 0,cryptoTxHash:a.cryptoTxHash||void 0,cryptoWalletAddress:a.cryptoWalletAddress||void 0}})},L=s=>{switch(s){case"stripe":return e.jsx(Q,{"data-loc":"client/src/pages/Payments.tsx:267",className:"h-4 w-4"});case"bank_transfer":return e.jsx(qe,{"data-loc":"client/src/pages/Payments.tsx:269",className:"h-4 w-4"});case"check":return e.jsx(Ke,{"data-loc":"client/src/pages/Payments.tsx:271",className:"h-4 w-4"});case"crypto":return e.jsx(G,{"data-loc":"client/src/pages/Payments.tsx:273",className:"h-4 w-4"});default:return e.jsx(je,{"data-loc":"client/src/pages/Payments.tsx:275",className:"h-4 w-4"})}},ne=s=>{const l={completed:"default",pending:"secondary",failed:"destructive",refunded:"outline"};return e.jsx(Ie,{"data-loc":"client/src/pages/Payments.tsx:290",variant:l[s]||"default",children:s.charAt(0).toUpperCase()+s.slice(1)})},we=!!(h||i!=="all"||o!=="all"||m!=="all"),De=n.useMemo(()=>{const s=[];if(i!=="all"&&s.push({key:"method",label:"Method",value:i.charAt(0).toUpperCase()+i.slice(1).replace("_"," "),onRemove:()=>M("all")}),o!=="all"&&s.push({key:"status",label:"Status",value:o.charAt(0).toUpperCase()+o.slice(1),onRemove:()=>F("all")}),m!=="all"){const l={today:"Today","7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days",year:"Last Year"};s.push({key:"dateRange",label:"Date",value:l[m]||m,onRemove:()=>R("all")})}return s},[i,o,m]),H=()=>{J(""),M("all"),F("all"),R("all"),D(1)},B=(s,l)=>{navigator.clipboard.writeText(s),Y(l),k.success("Copied to clipboard"),setTimeout(()=>Y(null),2e3)},Se=(s,l)=>{switch((l||"mainnet").toLowerCase()){case"polygon":return`https://polygonscan.com/tx/${s}`;case"arbitrum":return`https://arbiscan.io/tx/${s}`;case"optimism":return`https://optimistic.etherscan.io/tx/${s}`;case"bsc":return`https://bscscan.com/tx/${s}`;case"solana":return`https://solscan.io/tx/${s}`;default:return`https://etherscan.io/tx/${s}`}};return e.jsxs(He,{"data-loc":"client/src/pages/Payments.tsx:404",title:"Payments",subtitle:"Track and manage invoice payments",headerActions:e.jsxs(w,{"data-loc":"client/src/pages/Payments.tsx:408",onClick:()=>N(!0),children:[e.jsx(Pe,{"data-loc":"client/src/pages/Payments.tsx:409",className:"h-4 w-4 mr-2"}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:410",className:"hidden sm:inline",children:"Record Payment"}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:411",className:"sm:hidden",children:"Record"})]}),children:[S&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:417",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(U,{"data-loc":"client/src/pages/Payments.tsx:418",children:[e.jsxs(W,{"data-loc":"client/src/pages/Payments.tsx:419",className:"pb-2",children:[e.jsx(z,{"data-loc":"client/src/pages/Payments.tsx:420",children:"Total Received"}),e.jsx(O,{"data-loc":"client/src/pages/Payments.tsx:421",className:"text-2xl",children:e.jsx(ge,{"data-loc":"client/src/pages/Payments.tsx:422",amount:Number(S.totalAmount)||0,bold:!0,duration:900})})]}),e.jsx(V,{"data-loc":"client/src/pages/Payments.tsx:429",children:e.jsxs("p",{"data-loc":"client/src/pages/Payments.tsx:430",className:"text-sm text-muted-foreground",children:[e.jsx(he,{"data-loc":"client/src/pages/Payments.tsx:431",value:S.totalCount,duration:600})," ","payments"]})})]}),S.byMethod.map(s=>e.jsxs(U,{"data-loc":"client/src/pages/Payments.tsx:438",children:[e.jsxs(W,{"data-loc":"client/src/pages/Payments.tsx:439",className:"pb-2",children:[e.jsxs(z,{"data-loc":"client/src/pages/Payments.tsx:440",className:"flex items-center gap-2",children:[L(s.method),s.method.replace("_"," ").toUpperCase()]}),e.jsx(O,{"data-loc":"client/src/pages/Payments.tsx:444",className:"text-2xl",children:e.jsx(ge,{"data-loc":"client/src/pages/Payments.tsx:445",amount:Number(s.total)||0,bold:!0,duration:900,delay:100})})]}),e.jsx(V,{"data-loc":"client/src/pages/Payments.tsx:453",children:e.jsxs("p",{"data-loc":"client/src/pages/Payments.tsx:454",className:"text-sm text-muted-foreground",children:[e.jsx(he,{"data-loc":"client/src/pages/Payments.tsx:455",value:s.count,duration:600,delay:100})," ","payments"]})})]},s.method))]}),e.jsx(ze,{"data-loc":"client/src/pages/Payments.tsx:469",hasActiveFilters:we,onClearFilters:H,searchValue:h,onSearchChange:J,searchPlaceholder:"Search by invoice ID, notes...",activeFilters:De,onClearAll:H,showRefresh:!0,onRefresh:ae,children:e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:480",className:"flex flex-wrap items-end gap-3 md:gap-4 w-full",children:[e.jsx($,{"data-loc":"client/src/pages/Payments.tsx:482",label:"Payment Method",children:e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:483",value:i,onValueChange:M,children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:484",className:"w-full sm:w-[160px] md:w-[180px]",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:485",placeholder:"All Methods"})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:487",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:488",value:"all",children:"All Methods"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:489",value:"manual",children:"Manual"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:490",value:"stripe",children:"Stripe"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:491",value:"bank_transfer",children:"Bank Transfer"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:492",value:"check",children:"Check"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:493",value:"cash",children:"Cash"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:494",value:"crypto",children:"Crypto"})]})]})}),e.jsx($,{"data-loc":"client/src/pages/Payments.tsx:500",label:"Status",children:e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:501",value:o,onValueChange:F,children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:502",className:"w-full sm:w-[140px] md:w-[160px]",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:503",placeholder:"All Status"})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:505",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:506",value:"all",children:"All Status"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:507",value:"completed",children:"Completed"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:508",value:"pending",children:"Pending"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:509",value:"failed",children:"Failed"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:510",value:"refunded",children:"Refunded"})]})]})}),e.jsx($,{"data-loc":"client/src/pages/Payments.tsx:516",label:"Date Range",children:e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:517",value:m,onValueChange:R,children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:518",className:"w-full sm:w-[140px] md:w-[160px]",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:519",placeholder:"All Time"})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:521",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:522",value:"all",children:"All Time"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:523",value:"today",children:"Today"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:524",value:"7days",children:"Last 7 Days"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:525",value:"30days",children:"Last 30 Days"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:526",value:"90days",children:"Last 90 Days"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:527",value:"year",children:"Last Year"})]})]})})]})}),e.jsxs(U,{"data-loc":"client/src/pages/Payments.tsx:535",children:[e.jsxs(W,{"data-loc":"client/src/pages/Payments.tsx:536",children:[e.jsx(O,{"data-loc":"client/src/pages/Payments.tsx:537",children:"Payment History"}),e.jsxs(z,{"data-loc":"client/src/pages/Payments.tsx:538",children:[u.length," payment",u.length!==1?"s":""," found"]})]}),e.jsx(V,{"data-loc":"client/src/pages/Payments.tsx:543",children:fe?e.jsx(Be,{"data-loc":"client/src/pages/Payments.tsx:545"}):!b||b.length===0?e.jsx(xe,{"data-loc":"client/src/pages/Payments.tsx:547",...pe.payments,action:{label:"Record Payment",onClick:()=>N(!0),icon:Pe}}):u.length===0?e.jsx(xe,{"data-loc":"client/src/pages/Payments.tsx:556",...pe.search,action:{label:"Clear Filters",onClick:H},size:"sm"}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{"data-loc":"client/src/pages/Payments.tsx:566",minWidth:700,className:"rounded-lg border overflow-hidden",children:e.jsxs(Me,{"data-loc":"client/src/pages/Payments.tsx:567",children:[e.jsx(Fe,{"data-loc":"client/src/pages/Payments.tsx:568",children:e.jsxs(me,{"data-loc":"client/src/pages/Payments.tsx:569",className:"bg-muted/30",children:[e.jsx(ue,{"data-loc":"client/src/pages/Payments.tsx:570",label:"Date",sortKey:"paymentDate",currentSort:Z,onSort:ee}),e.jsx(T,{"data-loc":"client/src/pages/Payments.tsx:576",children:"Invoice"}),e.jsx(ue,{"data-loc":"client/src/pages/Payments.tsx:577",label:"Amount",sortKey:"amount",currentSort:Z,onSort:ee}),e.jsx(T,{"data-loc":"client/src/pages/Payments.tsx:583",children:"Method"}),e.jsx(T,{"data-loc":"client/src/pages/Payments.tsx:584",children:"Status"}),e.jsx(T,{"data-loc":"client/src/pages/Payments.tsx:585",className:"hidden md:table-cell",children:"Notes"})]})}),e.jsx(Re,{"data-loc":"client/src/pages/Payments.tsx:590",children:be.map(s=>e.jsxs(me,{"data-loc":"client/src/pages/Payments.tsx:592",className:"hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>X(s),children:[e.jsx(v,{"data-loc":"client/src/pages/Payments.tsx:597",className:"font-medium",children:e.jsx(_,{"data-loc":"client/src/pages/Payments.tsx:598",date:s.paymentDate,format:"long"})}),e.jsx(v,{"data-loc":"client/src/pages/Payments.tsx:603",children:e.jsxs("span",{"data-loc":"client/src/pages/Payments.tsx:604",className:"font-numeric text-sm bg-muted/50 px-2 py-1 rounded",children:["#",s.invoiceId]})}),e.jsx(v,{"data-loc":"client/src/pages/Payments.tsx:608",className:"font-semibold text-primary",children:e.jsx(ye,{"data-loc":"client/src/pages/Payments.tsx:609",amount:s.amount,currency:s.currency})}),e.jsx(v,{"data-loc":"client/src/pages/Payments.tsx:614",children:e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:615",className:"flex items-center gap-2",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:616",className:"p-1.5 rounded-md bg-muted/50",children:L(s.paymentMethod)}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:619",className:"capitalize text-sm",children:s.paymentMethod.replace("_"," ")})]})}),e.jsx(v,{"data-loc":"client/src/pages/Payments.tsx:624",children:ne(s.status)}),e.jsx(v,{"data-loc":"client/src/pages/Payments.tsx:625",className:"hidden md:table-cell text-sm text-muted-foreground max-w-[200px] truncate",children:s.notes||"-"})]},s.id))})]})}),le>1&&e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:636",className:"mt-4 pt-4 border-t",children:e.jsx(Ue,{"data-loc":"client/src/pages/Payments.tsx:637",currentPage:I,totalPages:le,pageSize:f,totalItems:ce,onPageChange:D,onPageSizeChange:s=>{Ne(s),D(1)},pageSizeOptions:[10,25,50,100]})})]})})]}),e.jsx(re,{"data-loc":"client/src/pages/Payments.tsx:657",open:!!c,onOpenChange:s=>!s&&X(null),children:e.jsxs(de,{"data-loc":"client/src/pages/Payments.tsx:661",className:"sm:max-w-[550px]",children:[e.jsx(ie,{"data-loc":"client/src/pages/Payments.tsx:662",className:"pb-4",children:e.jsxs(oe,{"data-loc":"client/src/pages/Payments.tsx:663",className:"flex items-center gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:664",className:"p-3 rounded-xl bg-primary/10",children:c&&L(c.paymentMethod)}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:668",children:[e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:669",className:"text-xl",children:"Payment Details"}),e.jsxs("p",{"data-loc":"client/src/pages/Payments.tsx:670",className:"text-sm font-normal text-muted-foreground mt-1",children:["Payment #",c?.id]})]})]})}),c&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:678",className:"space-y-6 px-0",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:680",className:"flex items-center justify-between p-5 rounded-xl border bg-card",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:681",children:[e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:682",className:"text-sm text-muted-foreground mb-1.5",children:"Amount"}),e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:683",className:"text-2xl font-bold text-foreground",children:e.jsx(ye,{"data-loc":"client/src/pages/Payments.tsx:684",amount:c.amount,currency:c.currency})})]}),e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:690",className:"text-right",children:ne(c.status)})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:696",className:"grid grid-cols-2 gap-x-8 gap-y-5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:697",className:"space-y-2.5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:698",className:"flex items-center gap-2.5 text-sm text-muted-foreground",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:699",className:"p-1.5 rounded-md bg-muted/60",children:e.jsx(Oe,{"data-loc":"client/src/pages/Payments.tsx:700",className:"h-4 w-4"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:702",className:"text-xs uppercase tracking-wider font-medium",children:"Invoice ID"})]}),e.jsxs("p",{"data-loc":"client/src/pages/Payments.tsx:706",className:"font-numeric text-base pl-9",children:["#",c.invoiceId]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:710",className:"space-y-2.5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:711",className:"flex items-center gap-2.5 text-sm text-muted-foreground",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:712",className:"p-1.5 rounded-md bg-muted/60",children:e.jsx(Q,{"data-loc":"client/src/pages/Payments.tsx:713",className:"h-4 w-4"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:715",className:"text-xs uppercase tracking-wider font-medium",children:"Method"})]}),e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:719",className:"font-medium text-base capitalize pl-9",children:c.paymentMethod.replace("_"," ")})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:723",className:"space-y-2.5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:724",className:"flex items-center gap-2.5 text-sm text-muted-foreground",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:725",className:"p-1.5 rounded-md bg-muted/60",children:e.jsx(Ve,{"data-loc":"client/src/pages/Payments.tsx:726",className:"h-4 w-4"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:728",className:"text-xs uppercase tracking-wider font-medium",children:"Date"})]}),e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:732",className:"font-medium text-base pl-9",children:e.jsx(_,{"data-loc":"client/src/pages/Payments.tsx:733",date:c.paymentDate,format:"long"})})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:739",className:"space-y-2.5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:740",className:"flex items-center gap-2.5 text-sm text-muted-foreground",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:741",className:"p-1.5 rounded-md bg-muted/60",children:e.jsx(_e,{"data-loc":"client/src/pages/Payments.tsx:742",className:"h-4 w-4"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:744",className:"text-xs uppercase tracking-wider font-medium",children:"Recorded"})]}),e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:748",className:"font-medium text-base pl-9",children:e.jsx(_,{"data-loc":"client/src/pages/Payments.tsx:749",date:c.createdAt,format:"long"})})]})]}),c.paymentMethod==="stripe"&&c.stripePaymentIntentId&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:760",className:"p-5 rounded-xl border bg-muted/30 space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:761",className:"flex items-center gap-3 text-sm font-semibold",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:762",className:"p-2 rounded-lg bg-muted",children:e.jsx(Q,{"data-loc":"client/src/pages/Payments.tsx:763",className:"h-4 w-4 text-[hsl(var(--color-stripe))]"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:765",children:"Stripe Details"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:767",className:"space-y-3 pl-9",children:[e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:768",className:"text-sm text-muted-foreground",children:"Payment Intent ID"}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:771",className:"flex items-center gap-3",children:[e.jsx("code",{"data-loc":"client/src/pages/Payments.tsx:772",className:"text-sm bg-muted px-3 py-2 rounded-lg font-mono flex-1 truncate",children:c.stripePaymentIntentId}),e.jsx(w,{"data-loc":"client/src/pages/Payments.tsx:775",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>B(c.stripePaymentIntentId,"stripe"),"aria-label":"Copy Stripe payment ID",children:A==="stripe"?e.jsx(K,{"data-loc":"client/src/pages/Payments.tsx:788",className:"h-4 w-4 text-green-500"}):e.jsx(q,{"data-loc":"client/src/pages/Payments.tsx:790",className:"h-4 w-4"})})]})]})]}),c.paymentMethod==="crypto"&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:800",className:"p-5 rounded-xl border bg-muted/30 space-y-5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:801",className:"flex items-center gap-3 text-sm font-semibold",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:802",className:"p-2 rounded-lg bg-orange-500/10",children:e.jsx(G,{"data-loc":"client/src/pages/Payments.tsx:803",className:"h-4 w-4 text-orange-500"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:805",children:"Cryptocurrency Details"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:808",className:"grid grid-cols-2 gap-x-8 gap-y-5 pl-9",children:[c.cryptoAmount&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:810",className:"space-y-2.5",children:[e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:811",className:"text-sm text-muted-foreground",children:"Crypto Amount"}),e.jsxs("p",{"data-loc":"client/src/pages/Payments.tsx:814",className:"font-numeric text-base",children:[parseFloat(c.cryptoAmount).toFixed(8)," ",c.cryptoCurrency?.toUpperCase()]})]}),c.cryptoNetwork&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:821",className:"space-y-2.5",children:[e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:822",className:"text-sm text-muted-foreground",children:"Network"}),e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:823",className:"font-medium capitalize text-base",children:c.cryptoNetwork})]})]}),c.cryptoTxHash&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:831",className:"space-y-3 pl-9",children:[e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:832",className:"text-sm text-muted-foreground",children:"Transaction Hash"}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:835",className:"flex items-center gap-3",children:[e.jsx("code",{"data-loc":"client/src/pages/Payments.tsx:836",className:"text-sm bg-muted/60 px-3 py-2 rounded-lg font-mono flex-1 truncate",children:c.cryptoTxHash}),e.jsx(w,{"data-loc":"client/src/pages/Payments.tsx:839",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>B(c.cryptoTxHash,"txHash"),"aria-label":"Copy transaction hash",children:A==="txHash"?e.jsx(K,{"data-loc":"client/src/pages/Payments.tsx:852",className:"h-4 w-4 text-green-500"}):e.jsx(q,{"data-loc":"client/src/pages/Payments.tsx:854",className:"h-4 w-4"})}),e.jsx(w,{"data-loc":"client/src/pages/Payments.tsx:857",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",asChild:!0,children:e.jsx("a",{"data-loc":"client/src/pages/Payments.tsx:863",href:Se(c.cryptoTxHash,c.cryptoNetwork),target:"_blank",rel:"noopener noreferrer","aria-label":"View transaction on block explorer",children:e.jsx($e,{"data-loc":"client/src/pages/Payments.tsx:872",className:"h-4 w-4"})})})]})]}),c.cryptoWalletAddress&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:880",className:"space-y-3 pl-9",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:881",className:"flex items-center gap-2.5 text-sm text-muted-foreground",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:882",className:"p-1.5 rounded-md bg-muted/60",children:e.jsx(Qe,{"data-loc":"client/src/pages/Payments.tsx:883",className:"h-4 w-4"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:885",className:"text-xs uppercase tracking-wider font-medium",children:"Receiving Wallet"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:889",className:"flex items-center gap-3",children:[e.jsx("code",{"data-loc":"client/src/pages/Payments.tsx:890",className:"text-sm bg-muted/60 px-3 py-2 rounded-lg font-mono flex-1 truncate",children:c.cryptoWalletAddress}),e.jsx(w,{"data-loc":"client/src/pages/Payments.tsx:893",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>B(c.cryptoWalletAddress,"wallet"),"aria-label":"Copy wallet address",children:A==="wallet"?e.jsx(K,{"data-loc":"client/src/pages/Payments.tsx:906",className:"h-4 w-4 text-green-500"}):e.jsx(q,{"data-loc":"client/src/pages/Payments.tsx:908",className:"h-4 w-4"})})]})]})]}),c.notes&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:919",className:"space-y-3",children:[e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:920",className:"text-sm text-muted-foreground",children:"Notes"}),e.jsx("p",{"data-loc":"client/src/pages/Payments.tsx:921",className:"text-sm p-4 rounded-lg bg-muted/30 border leading-relaxed",children:c.notes})]})]})]})}),e.jsx(re,{"data-loc":"client/src/pages/Payments.tsx:932",open:ve,onOpenChange:N,children:e.jsxs(de,{"data-loc":"client/src/pages/Payments.tsx:933",className:"sm:max-w-[500px]",children:[e.jsxs(ie,{"data-loc":"client/src/pages/Payments.tsx:934",className:"pb-4",children:[e.jsxs(oe,{"data-loc":"client/src/pages/Payments.tsx:935",className:"flex items-center gap-3",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:936",className:"p-3 rounded-xl bg-primary/10",children:e.jsx(je,{"data-loc":"client/src/pages/Payments.tsx:937",className:"h-5 w-5 text-primary"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:939",className:"text-xl",children:"Record Payment"})]}),e.jsx(ke,{"data-loc":"client/src/pages/Payments.tsx:941",className:"text-base",children:"Manually record a payment received for an invoice"})]}),e.jsx(Te,{"data-loc":"client/src/pages/Payments.tsx:945",spacing:"default",children:e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:946",className:"space-y-5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:947",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:948",htmlFor:"invoiceId",children:"Invoice ID *"}),e.jsx(j,{"data-loc":"client/src/pages/Payments.tsx:949",id:"invoiceId",type:"number",placeholder:"Enter invoice ID",value:a.invoiceId,onChange:s=>r({...a,invoiceId:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:960",className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:961",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:962",htmlFor:"amount",children:"Amount *"}),e.jsx(j,{"data-loc":"client/src/pages/Payments.tsx:963",id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:a.amount,onChange:s=>r({...a,amount:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:975",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:976",htmlFor:"currency",children:"Currency"}),e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:977",value:a.currency,onValueChange:s=>r({...a,currency:s}),children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:983",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:984"})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:986",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:987",value:"USD",children:"USD"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:988",value:"EUR",children:"EUR"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:989",value:"GBP",children:"GBP"})]})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:995",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:996",htmlFor:"paymentMethod",children:"Payment Method"}),e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:997",value:a.paymentMethod,onValueChange:s=>r({...a,paymentMethod:s}),children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:1003",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:1004"})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:1006",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1007",value:"manual",children:"Manual"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1008",value:"bank_transfer",children:"Bank Transfer"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1009",value:"check",children:"Check"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1010",value:"cash",children:"Cash"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1011",value:"crypto",children:"Cryptocurrency"})]})]})]}),a.paymentMethod==="crypto"&&e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1018",className:"p-5 rounded-xl border bg-muted/30 space-y-5",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1019",className:"flex items-center gap-3 text-sm font-semibold",children:[e.jsx("div",{"data-loc":"client/src/pages/Payments.tsx:1020",className:"p-2 rounded-lg bg-orange-500/10",children:e.jsx(G,{"data-loc":"client/src/pages/Payments.tsx:1021",className:"h-4 w-4 text-orange-500"})}),e.jsx("span",{"data-loc":"client/src/pages/Payments.tsx:1023",children:"Cryptocurrency Details"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1025",className:"grid grid-cols-2 gap-6 pl-9",children:[e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1026",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1027",htmlFor:"cryptoAmount",children:"Crypto Amount"}),e.jsx(j,{"data-loc":"client/src/pages/Payments.tsx:1028",id:"cryptoAmount",type:"text",placeholder:"0.00000000",value:a.cryptoAmount,onChange:s=>r({...a,cryptoAmount:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1041",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1042",htmlFor:"cryptoCurrency",children:"Crypto Currency"}),e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:1043",value:a.cryptoCurrency,onValueChange:s=>r({...a,cryptoCurrency:s}),children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:1049",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:1050",placeholder:"Select..."})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:1052",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1053",value:"BTC",children:"Bitcoin (BTC)"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1054",value:"ETH",children:"Ethereum (ETH)"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1055",value:"USDT",children:"Tether (USDT)"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1056",value:"USDC",children:"USD Coin (USDC)"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1057",value:"SOL",children:"Solana (SOL)"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1058",value:"XRP",children:"Ripple (XRP)"})]})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1063",className:"space-y-2 pl-9",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1064",htmlFor:"cryptoNetwork",children:"Network"}),e.jsxs(x,{"data-loc":"client/src/pages/Payments.tsx:1065",value:a.cryptoNetwork,onValueChange:s=>r({...a,cryptoNetwork:s}),children:[e.jsx(p,{"data-loc":"client/src/pages/Payments.tsx:1071",children:e.jsx(y,{"data-loc":"client/src/pages/Payments.tsx:1072",placeholder:"Select network..."})}),e.jsxs(g,{"data-loc":"client/src/pages/Payments.tsx:1074",children:[e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1075",value:"mainnet",children:"Mainnet"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1076",value:"polygon",children:"Polygon"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1077",value:"arbitrum",children:"Arbitrum"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1078",value:"optimism",children:"Optimism"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1079",value:"bsc",children:"BNB Chain"}),e.jsx(t,{"data-loc":"client/src/pages/Payments.tsx:1080",value:"solana",children:"Solana"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1084",className:"space-y-2 pl-9",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1085",htmlFor:"cryptoTxHash",children:"Transaction Hash"}),e.jsx(j,{"data-loc":"client/src/pages/Payments.tsx:1086",id:"cryptoTxHash",type:"text",placeholder:"0x...",value:a.cryptoTxHash,onChange:s=>r({...a,cryptoTxHash:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1099",className:"space-y-2 pl-9",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1100",htmlFor:"cryptoWalletAddress",children:"Receiving Wallet Address"}),e.jsx(j,{"data-loc":"client/src/pages/Payments.tsx:1103",id:"cryptoWalletAddress",type:"text",placeholder:"0x... or bc1...",value:a.cryptoWalletAddress,onChange:s=>r({...a,cryptoWalletAddress:s.target.value})})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1119",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1120",htmlFor:"paymentDate",children:"Payment Date"}),e.jsx(j,{"data-loc":"client/src/pages/Payments.tsx:1121",id:"paymentDate",type:"date",value:a.paymentDate,onChange:s=>r({...a,paymentDate:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/Payments.tsx:1131",className:"space-y-2",children:[e.jsx(d,{"data-loc":"client/src/pages/Payments.tsx:1132",htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Le,{"data-loc":"client/src/pages/Payments.tsx:1133",id:"notes",placeholder:"Add any additional notes...",rows:3,value:a.notes,onChange:s=>r({...a,notes:s.target.value})})]})]})}),e.jsx(Ae,{"data-loc":"client/src/pages/Payments.tsx:1145",onClose:()=>N(!1),onSubmit:Ce,submitText:"Record Payment",cancelText:"Cancel",isLoading:te.isPending,disabled:!a.invoiceId||!a.amount})]})})]})}export{gs as default};
