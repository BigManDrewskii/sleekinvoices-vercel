import{r as l,j as e}from"./vendor-react-BuVtq312.js";import{b as J,u as Z,t as f,k as b,G as ee,C as w,a as F,B as u,g as te,j as P,c as v,I as p}from"./index-hzFfJlKH.js";import{n as M}from"./index.browser-OxPLOBIU.js";import{N as ae}from"./Navigation-DKoTJDrW.js";import{T as se}from"./textarea-CA7ezKjn.js";import{P as ie}from"./progress-DJbV8nE5.js";import{C as ce}from"./ClientDialog-Ch_MRpgo.js";import{U as re}from"./UpgradeDialog-B7ES_VUA.js";import{a as U,X as de,aw as ne,m as O,a8 as $,aB as B,a2 as oe,d as E,D as V,ap as W,an as le,ac as z,z as ue,A as xe}from"./vendor-icons-CPPAmKDz.js";import"./vendor-data-DopHG4T0.js";import"./vendor-radix-DQBG9U-J.js";import"./UserAvatar-DzPpP9tb.js";import"./label-DJDGx5UM.js";import"./checkbox-Cacebbmr.js";import"./subscription-B5lMhqL4.js";const Q={clientId:null,clientName:"",lineItems:[{id:M(),description:"",quantity:1,rate:0}],taxRate:0,dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:"",currency:"USD"};function me(i,c){switch(c.type){case"SET_CLIENT":return{...i,clientId:c.clientId,clientName:c.clientName};case"ADD_LINE_ITEM":return{...i,lineItems:[...i.lineItems,c.item]};case"UPDATE_LINE_ITEM":return{...i,lineItems:i.lineItems.map(n=>n.id===c.id?{...n,...c.item}:n)};case"REMOVE_LINE_ITEM":return{...i,lineItems:i.lineItems.filter(n=>n.id!==c.id)};case"SET_TAX_RATE":return{...i,taxRate:c.rate};case"SET_DUE_DATE":return{...i,dueDate:c.date};case"SET_NOTES":return{...i,notes:c.notes};case"SET_CURRENCY":return{...i,currency:c.currency};case"RESET":return Q;default:return i}}const j=[{id:"client",title:"Client",icon:e.jsx(B,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:129",className:"h-5 w-5"}),description:"Who is this invoice for?"},{id:"services",title:"Services",icon:e.jsx(E,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:135",className:"h-5 w-5"}),description:"What did you provide?"},{id:"amounts",title:"Amounts",icon:e.jsx(V,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:141",className:"h-5 w-5"}),description:"Set quantities and rates"},{id:"due-date",title:"Due Date",icon:e.jsx(W,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:147",className:"h-5 w-5"}),description:"When is payment due?"},{id:"review",title:"Review",icon:e.jsx(z,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:153",className:"h-5 w-5"}),description:"Review and send"}];function g({title:i,description:c,icon:n,children:a,isActive:r,direction:d}){const[h,x]=l.useState(!1);return l.useEffect(()=>{if(r){const I=setTimeout(()=>x(!0),50);return()=>clearTimeout(I)}else x(!1)},[r]),r?e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:190",className:v("w-full max-w-2xl mx-auto transition-all duration-500 ease-out",h?"opacity-100 translate-x-0":d==="forward"?"opacity-0 translate-x-8":"opacity-0 -translate-x-8"),children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:201",className:"mb-8 text-center",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:202",className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 text-primary mb-4",children:n}),e.jsx("h2",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:205",className:"text-3xl font-bold text-foreground mb-2",children:i}),e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:206",className:"text-lg text-muted-foreground",children:c})]}),e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:210",className:"space-y-6",children:a})]}):null}function pe({currentStep:i,totalSteps:c,steps:n}){const a=(i+1)/c*100;return e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:230",className:"w-full max-w-2xl mx-auto mb-8",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:232",className:"relative mb-4",children:e.jsx(ie,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:233",value:a,className:"h-2"})}),e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:237",className:"flex justify-between",children:n.map((r,d)=>e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:239",className:v("flex flex-col items-center transition-all duration-300",d<=i?"opacity-100":"opacity-40"),children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:246",className:v("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300",d<i?"bg-primary text-primary-foreground":d===i?"bg-primary/20 text-primary ring-2 ring-primary ring-offset-2 ring-offset-background":"bg-muted text-muted-foreground"),children:d<i?e.jsx(O,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:256",className:"h-4 w-4"}):d+1}),e.jsx("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:258",className:"text-xs mt-1 hidden sm:block text-muted-foreground",children:r.title})]},r.id))})]})}function Te(){const{loading:i,isAuthenticated:c}=J(),[,n]=Z(),[a,r]=l.useReducer(me,Q),[d,h]=l.useState(0),[x,I]=l.useState("forward"),[X,N]=l.useState(!1),[K,S]=l.useState(!1),G=l.useRef(null),{data:D}=f.clients.list.useQuery(void 0,{enabled:c}),{data:T}=f.invoices.getNextNumber.useQuery(void 0,{enabled:c}),Y=f.useUtils(),C=f.invoices.create.useMutation({onSuccess:t=>{b.success("Invoice created successfully! ðŸŽ‰"),Y.invoices.list.invalidate(),n(`/invoices/${t.id}`)},onError:t=>{t.message?.includes("Monthly invoice limit reached")||t.message?.includes("invoice limit")?S(!0):b.error(t.message||"Failed to create invoice")}}),m=j[d];l.useEffect(()=>{const t=s=>{s.key==="Enter"&&!s.shiftKey?(s.preventDefault(),_()):s.key==="Escape"&&R()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[d,a]),l.useEffect(()=>{G.current&&G.current.focus()},[d]);const k=l.useCallback(()=>{switch(m.id){case"client":return a.clientId!==null;case"services":return a.lineItems.some(t=>t.description.trim()!=="");case"amounts":return a.lineItems.some(t=>t.rate>0);case"due-date":return a.dueDate!=="";case"review":return!0;default:return!1}},[m.id,a]),_=()=>{if(!k()){b.error("Please complete this step before continuing");return}d<j.length-1&&(I("forward"),h(t=>t+1))},R=()=>{d>0&&(I("backward"),h(t=>t-1))},A=t=>{a.lineItems.reduce((o,q)=>o+q.quantity*q.rate,0)*(a.taxRate/100),C.mutate({clientId:a.clientId,invoiceNumber:T||"INV-0001",status:t?"sent":"draft",issueDate:new Date,dueDate:new Date(a.dueDate),lineItems:a.lineItems.filter(o=>o.description.trim()!=="").map(o=>({description:o.description,quantity:o.quantity,rate:o.rate})),taxRate:a.taxRate,discountType:"percentage",discountValue:0,notes:a.notes,paymentTerms:"Net 30",currency:a.currency})},y=a.lineItems.reduce((t,s)=>t+s.quantity*s.rate,0),L=y*(a.taxRate/100),H=y+L;return i?e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:411",className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:412",className:"opacity-70",children:e.jsx(ee,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:413",size:"md"})})}):c?e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:441",className:"min-h-screen bg-background",children:[e.jsx(ae,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:442"}),e.jsxs("main",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:444",className:"container py-8 px-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:446",className:"flex items-center justify-between mb-8 max-w-2xl mx-auto",children:[e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:447",variant:"ghost",size:"sm",onClick:()=>n("/invoices"),className:"text-muted-foreground",children:[e.jsx(de,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:453",className:"h-4 w-4 mr-2"}),"Exit"]}),e.jsxs(P,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:456",variant:"secondary",className:"gap-1",children:[e.jsx(U,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:457",className:"h-3 w-3"}),"Guided Creator"]})]}),e.jsx(pe,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:463",currentStep:d,totalSteps:j.length,steps:j}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:470",className:"min-h-[400px] flex items-center justify-center",children:[e.jsxs(g,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:472",title:"Who is this invoice for?",description:"Select an existing client or create a new one",icon:e.jsx(B,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:475",className:"h-8 w-8"}),isActive:m.id==="client",direction:x,children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:479",className:"space-y-4",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:481",className:"grid gap-3",children:D?.slice(0,5).map(t=>e.jsx("button",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:483",onClick:()=>r({type:"SET_CLIENT",clientId:t.id,clientName:t.name}),className:v("w-full p-4 rounded-xl border-2 text-left transition-all duration-200","hover:border-primary/50 hover:bg-primary/5",a.clientId===t.id?"border-primary bg-primary/10":"border-border"),children:e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:500",className:"flex items-center gap-3",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:501",className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(ne,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:502",className:"h-5 w-5 text-primary"})}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:504",children:[e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:505",className:"font-medium",children:t.name}),e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:506",className:"text-sm text-muted-foreground",children:t.email})]}),a.clientId===t.id&&e.jsx(O,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:511",className:"h-5 w-5 text-primary ml-auto"})]})},t.id))}),e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:519",variant:"outline",className:"w-full h-14 border-dashed",onClick:()=>N(!0),children:[e.jsx($,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:524",className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create New Client"]})]}),e.jsx(ce,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:529",open:X,onOpenChange:N,onSuccess:t=>{if(N(!1),t){const s=D?.find(o=>o.id===t);s&&r({type:"SET_CLIENT",clientId:s.id,clientName:s.name})}}})]}),e.jsx(g,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:549",title:"What services did you provide?",description:"Add descriptions for each line item",icon:e.jsx(E,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:552",className:"h-8 w-8"}),isActive:m.id==="services",direction:x,children:e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:556",className:"space-y-3",children:[a.lineItems.map((t,s)=>e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:558",className:"flex gap-2",children:[e.jsx(p,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:559",ref:s===0?G:void 0,placeholder:`Service or product ${s+1}...`,value:t.description,onChange:o=>r({type:"UPDATE_LINE_ITEM",id:t.id,item:{description:o.target.value}}),className:"flex-1 h-12 text-lg"}),a.lineItems.length>1&&e.jsx(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:573",variant:"ghost",size:"icon",onClick:()=>r({type:"REMOVE_LINE_ITEM",id:t.id}),className:"h-12 w-12 text-muted-foreground hover:text-destructive","aria-label":`Remove line item: ${t.description||"Item"}`,children:e.jsx(oe,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:582",className:"h-5 w-5"})})]},t.id)),e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:588",variant:"outline",className:"w-full h-12 border-dashed",onClick:()=>r({type:"ADD_LINE_ITEM",item:{id:M(),description:"",quantity:1,rate:0}}),children:[e.jsx($,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:603",className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Another Item"]})]})}),e.jsx(g,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:610",title:"Set quantities and rates",description:"Enter the quantity and rate for each item",icon:e.jsx(V,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:613",className:"h-8 w-8"}),isActive:m.id==="amounts",direction:x,children:e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:617",className:"space-y-4",children:[a.lineItems.filter(t=>t.description.trim()!=="").map(t=>e.jsxs(w,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:621",className:"p-4",children:[e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:622",className:"font-medium mb-3 truncate",children:t.description}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:625",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:626",children:[e.jsx("label",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:627",htmlFor:`quantity-${t.id}`,className:"text-sm text-muted-foreground mb-1 block",children:"Quantity"}),e.jsx(p,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:633",id:`quantity-${t.id}`,type:"number",min:"1",value:t.quantity,onChange:s=>r({type:"UPDATE_LINE_ITEM",id:t.id,item:{quantity:parseFloat(s.target.value)||1}}),className:"h-12 text-lg"})]}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:650",children:[e.jsx("label",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:651",htmlFor:`rate-${t.id}`,className:"text-sm text-muted-foreground mb-1 block",children:"Rate ($)"}),e.jsx(p,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:657",id:`rate-${t.id}`,type:"number",min:"0",step:"0.01",value:t.rate||"",onChange:s=>r({type:"UPDATE_LINE_ITEM",id:t.id,item:{rate:parseFloat(s.target.value)||0}}),className:"h-12 text-lg",placeholder:"0.00"})]})]}),e.jsxs("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:675",className:"text-right mt-2 text-muted-foreground",children:["Subtotal:"," ",e.jsxs("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:677",className:"font-medium text-foreground",children:["$",(t.quantity*t.rate).toFixed(2)]})]})]},t.id)),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:685",className:"pt-4 border-t",children:[e.jsx("label",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:686",htmlFor:"tax-rate",className:"text-sm text-muted-foreground mb-2 block",children:"Tax Rate (%)"}),e.jsx(p,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:692",id:"tax-rate",type:"number",min:"0",max:"100",value:a.taxRate||"",onChange:t=>r({type:"SET_TAX_RATE",rate:parseFloat(t.target.value)||0}),className:"h-12 text-lg max-w-[150px]",placeholder:"0"})]})]})}),e.jsx(g,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:712",title:"When is payment due?",description:"Set the due date for this invoice",icon:e.jsx(W,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:715",className:"h-8 w-8"}),isActive:m.id==="due-date",direction:x,children:e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:719",className:"space-y-6",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:721",className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Due on receipt",days:0},{label:"Net 15",days:15},{label:"Net 30",days:30},{label:"Net 60",days:60}].map(t=>{const s=new Date(Date.now()+t.days*24*60*60*1e3).toISOString().split("T")[0];return e.jsxs("button",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:734",onClick:()=>r({type:"SET_DUE_DATE",date:s}),className:v("p-3 rounded-xl border-2 text-center transition-all duration-200","hover:border-primary/50 hover:bg-primary/5",a.dueDate===s?"border-primary bg-primary/10":"border-border"),children:[e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:745",className:"font-medium",children:t.label}),e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:746",className:"text-xs text-muted-foreground mt-1",children:new Date(s).toLocaleDateString()})]},t.label)})}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:755",children:[e.jsx("label",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:756",htmlFor:"custom-date",className:"text-sm text-muted-foreground mb-2 block",children:"Or select a custom date"}),e.jsx(p,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:762",id:"custom-date",type:"date",value:a.dueDate,onChange:t=>r({type:"SET_DUE_DATE",date:t.target.value}),className:"h-12 text-lg max-w-[200px]",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:775",children:[e.jsx("label",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:776",htmlFor:"notes",className:"text-sm text-muted-foreground mb-2 block",children:"Additional notes (optional)"}),e.jsx(se,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:782",id:"notes",placeholder:"Payment instructions, thank you message, etc.",value:a.notes,onChange:t=>r({type:"SET_NOTES",notes:t.target.value}),className:"min-h-[100px]"})]})]})}),e.jsxs(g,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:796",title:"Review your invoice",description:"Make sure everything looks correct",icon:e.jsx(z,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:799",className:"h-8 w-8"}),isActive:m.id==="review",direction:x,children:[e.jsxs(w,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:803",className:"overflow-hidden",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:804",className:"bg-primary/10 p-4 border-b",children:e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:805",className:"flex justify-between items-start",children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:806",children:[e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:807",className:"text-sm text-muted-foreground",children:"Invoice for"}),e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:808",className:"text-xl font-semibold",children:a.clientName})]}),e.jsx(P,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:810",variant:"secondary",children:T||"INV-0001"})]})}),e.jsxs(F,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:814",className:"p-4 space-y-4",children:[e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:816",className:"space-y-2",children:a.lineItems.filter(t=>t.description.trim()!=="").map(t=>e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:820",className:"flex justify-between py-2 border-b last:border-0",children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:824",children:[e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:825",className:"font-medium",children:t.description}),e.jsxs("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:826",className:"text-sm text-muted-foreground",children:[t.quantity," Ã— $",t.rate.toFixed(2)]})]}),e.jsxs("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:830",className:"font-medium",children:["$",(t.quantity*t.rate).toFixed(2)]})]},t.id))}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:838",className:"pt-4 border-t space-y-2",children:[e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:839",className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:840",children:"Subtotal"}),e.jsxs("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:841",children:["$",y.toFixed(2)]})]}),a.taxRate>0&&e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:844",className:"flex justify-between text-muted-foreground",children:[e.jsxs("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:845",children:["Tax (",a.taxRate,"%)"]}),e.jsxs("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:846",children:["$",L.toFixed(2)]})]}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:849",className:"flex justify-between text-lg font-semibold pt-2 border-t",children:[e.jsx("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:850",children:"Total"}),e.jsxs("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:851",className:"text-primary",children:["$",H.toFixed(2)]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:856",className:"flex justify-between pt-4 border-t text-sm",children:[e.jsx("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:857",className:"text-muted-foreground",children:"Due Date"}),e.jsx("span",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:858",children:new Date(a.dueDate).toLocaleDateString()})]}),a.notes&&e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:863",className:"pt-4 border-t",children:[e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:864",className:"text-sm text-muted-foreground mb-1",children:"Notes"}),e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:865",className:"text-sm",children:a.notes})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:872",className:"flex flex-col sm:flex-row gap-3 mt-6",children:[e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:873",variant:"outline",className:"flex-1 h-12",onClick:()=>A(!1),disabled:C.isPending,children:[e.jsx(E,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:879",className:"h-5 w-5 mr-2"}),"Save as Draft"]}),e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:882",className:"flex-1 h-12",onClick:()=>A(!0),disabled:C.isPending,children:[e.jsx(le,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:887",className:"h-5 w-5 mr-2"}),C.isPending?"Creating...":"Send Invoice"]})]})]})]}),m.id!=="review"&&e.jsxs("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:896",className:"flex justify-between max-w-2xl mx-auto mt-8",children:[e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:897",variant:"ghost",onClick:R,disabled:d===0,className:"gap-2",children:[e.jsx(ue,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:903",className:"h-4 w-4"}),"Back"]}),e.jsxs(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:907",onClick:_,disabled:!k(),className:"gap-2",children:["Continue",e.jsx(xe,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:913",className:"h-4 w-4"})]})]}),e.jsxs("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:919",className:"text-center text-xs text-muted-foreground mt-8",children:["Press"," ",e.jsx("kbd",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:921",className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono",children:"Enter"})," ","to continue,"," ",e.jsx("kbd",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:925",className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono",children:"Esc"})," ","to go back"]})]}),e.jsx(re,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:933",open:K,onOpenChange:S,reason:"invoice_limit"})]}):e.jsx("div",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:421",className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:e.jsx(w,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:422",className:"max-w-md w-full",children:e.jsxs(F,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:423",className:"pt-6 text-center",children:[e.jsx(U,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:424",className:"h-12 w-12 mx-auto text-primary mb-4"}),e.jsx("h2",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:425",className:"text-xl font-semibold mb-2",children:"Sign in to create invoices"}),e.jsx("p",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:428",className:"text-muted-foreground mb-4",children:"Create professional invoices in under 60 seconds"}),e.jsx(u,{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:431",asChild:!0,className:"w-full",children:e.jsx("a",{"data-loc":"client/src/pages/GuidedInvoiceCreator.tsx:432",href:te(),children:"Sign In to Continue"})})]})})})}export{Te as default};
